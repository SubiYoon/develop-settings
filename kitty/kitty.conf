# ===========================
# ===========================
#             설정
# ===========================
# ===========================

shell /bin/zsh

# BEGIN_KITTY_THEME
# Catppuccin-Mocha
include current-theme.conf
# END_KITTY_THEME

# 글자의 두께를 약간 조절하여 가독성을 높입니다. (macOS 환경에서 효과적)
# 0에 가까울수록 얇고, 숫자가 커질수록 두꺼워집니다.
macos_thinner_lines       0

# 텍스트의 선명도를 높입니다.
text_composition_strategy platform


# ===========================
#    FONTS
# ===========================
# 1. 폰트 설정 (이름 확인 필수)
# font_family            JetBrains Mono
font_size                14.0
enable_ligatures         always
bold_font                auto
italic_font              auto
bold_italic_font         auto

# 2. 리그리처 설정 (never로 설정해야 항상 보입니다)
disable_ligatures never


# ===========================
#  GPU / CPU 성능 최적화
# ===========================
# GPU 렌더링 품질 향상 (텍스트 렌더링 선명도)
# 성능에 크게 무리 없으면서 품질 상승
antialiasing           yes
font_hinting           full
text_composition_strategy 1.0 30

# GPU 메모리 캐시 증가 (대형 로그/스크롤 부드러움)
# 확장성 고려: 큰 로그를 다룰 때도 안정적
max_gpu_text_cache_size 2048

# 스크롤 속도 최적화
scrollback_lines       20000
scrollback_pager       less

# 빠른 렌더링
# ms 단위 — 낮을수록 즉각 반응
repaint_delay          2
input_delay            0
# tearing이 있을 수 있으나 반응성 최고
sync_to_monitor        no

# CPU 부하 감소
enable_audio_bell      no
# 필요할 경우 URL만 감지
detect_urls            yes


# ===========================
#  배경 투명도 / 외형
# ===========================

# 배경 투명도: 0.0(완전 투명) ~ 1.0(불투명)
background_opacity     0.9

# 테두리/패딩 최적 설정
window_padding_width   8

# layout
enabled_layouts tall

#windows
window_margin_width 5
window_border_width 2pt

single_window_margin_width 0

# background
background_image /Users/ABCD/Pictures/배경화면/동물/cat01.png
background_image_layout scaled

background_tint 0.80
background_tint_gaps -10


# ===========================
#  키매핑
# ===========================

# Option+j 를 Alt+j 로 보내기
map alt+j send_text all "\ej"
map alt+k send_text all "\ek"

map F3 launch --cwd=current vi .

# 윈도우 네비게이션 키맵핑
map ctrl+shift+h neighboring_window left
map ctrl+shift+j neighboring_window down
map ctrl+shift+k neighboring_window up
map ctrl+shift+l neighboring_window right

# 새로운 윈도우 열기
enabled_layouts splits
# Cmd + Enter: 오른쪽에 새 윈도우 열기
map cmd+enter launch --location=vsplit

# Cmd + Shift + Enter: 아래쪽에 새 윈도우 열기
map cmd+shift+enter launch --location=split

# copy
map cmd+c copy_or_noop
map cmd+v paste_from_clipboard


# ===========================
#  번호 기반 탭 이동 단축키
# ===========================

# cmd + 1 → 첫 번째 탭으로 이동
map cmd+1 goto_tab 1

# cmd + 2 → 두 번째 탭으로 이동
map cmd+2 goto_tab 2

# cmd + 3 → 세 번째 탭
map cmd+3 goto_tab 3

# cmd + 4 → 네 번째 탭
map cmd+4 goto_tab 4

# cmd + 5 → 다섯 번째 탭
map cmd+5 goto_tab 5

# cmd + 6 → 여섯 번째 탭
map cmd+6 goto_tab 6

# cmd + 7 → 일곱네 번째 탭
map cmd+7 goto_tab 7

# cmd + 8 → 여덟 번째 탭
map cmd+8 goto_tab 8

# cmd + 9 → 아홉 번째 탭
map cmd+9 goto_tab 9

# cmd + 0 → 마지막 탭
map cmd+0 goto_tab -1   # -1은 마지막 탭


# =============================
#  탭 바 모양 
# =============================
# 탭 바 위치 → 위쪽 (top)
tab_bar_edge            top

# 탭 바 스타일 예시
tab_bar_style           powerline
tab_powerline_style     slanted

# 탭 제목 정렬 방식 (왼쪽/중앙/오른쪽)
tab_bar_align           left

# 탭이 최소 몇 개 이상일 때 탭 바를 표시할지
tab_bar_min_tabs        2
active_tab_foreground   white
active_tab_background   black
active_tab_font_style   bold-italic
inactive_tab_foreground white
inactive_tab_background gray

# 탭 바 설정
tab_bar_style powerline

tab_title_template "{tab.active_exe}{'/'}{tab.active_wd.split('/')[-1]}"

# =============================
#  hightlight
# =============================

# F1 키를 눌러 ERROR, WARN, INFO, DEBUG 하이라이트 활성화/비활성화
# 공백으로 구분하여 여러 그룹을 지정할 수 있습니다.
map F1 toggle_marker iregex 1 \\bERROR\\b 2 \\bWARN(ING)?\\b 2 \\bPEND(ING)?\\b 2 \\bPENDING\\b 3 \\bINFO\\b 3 \\bDEBUG\\b

# F2 키로 IP패턴 확인
map F2 toggle_marker regex 3 ([0-9]{1,3}\\.){3}[0-9]{1,3}
# iregex red \\bERROR\\b orange \\bWARN(ING)?\\b blue \\bINFO\\b brown \\bDEBUG\\b

# --- 하이라이트 색상 정의 ---

# ERROR (그룹 1) - 빨간색 배경
mark1_foreground red
mark1_background black

# WARN/WARNING (그룹 2) - 주황색 배경
mark2_foreground orange
mark2_background black

# INFO (그룹 3) - 파란색 배경
mark3_foreground green
mark3_background black


# BEGIN_KITTY_FONTS
font_family      family='JetBrains Mono' variable_name=JetBrainsMono style=Regular
bold_font        auto
italic_font      auto
bold_italic_font auto
# END_KITTY_FONTS
