" .ideavimrc is a configuration file for IdeaVim plugin. It uses
"   the same commands as the original .vimrc configuration.
" You can find a list of commands here: https://jb.gg/h38q75
" Find more examples here: https://jb.gg/share-ideavimrc

let mapleader = "\<Space>"

" Source your .vimrc
source ~/.vimrc

"" -- Suggested options --
" Show a few lines of context around the cursor. Note that this makes the
" text scroll if you mouse-click near the start or end of the window.
set scrolloff=5
set noinsertmode

" upper/lower case ignore
set ignorecase
set smartcase

" Beep disable
set visualbell
set noerrorbells

" Plugin
set incsearch
set surround
set NERDTree
set commentary #gc, gcc comment
set argtextobj "dia: delete an argument, cia: change inner argument

" which-key setting
set which-key
set notimeout " í‚¤ì…ë ¥ ì œí•œì‹œê°„ í•´ì œ
" set ttimeoutlen=50 " í‚¤ì…ë ¥ ì œí•œì‹œê°„ ì„¤ì •
let g:WhichKey_FontSize = 15

" clipboard copy
vmap <leader>y "+y
let g:WhichKeyDesc_clipboard_copy = '<leader>y ğŸ“‹copy clipboard'

" Tabê´€ë ¨ í‚¤ë§µí•‘
let g:WhichKeyDesc_tab = '<leader>t ğŸªŸTab'
nnoremap <leader>t1 :tabnext 1<CR>
let g:WhichKeyDesc_tab_tab1 = '<leader>t1 ğŸªŸTab 1'
nnoremap <leader>t2 :tabnext 2<CR>
let g:WhichKeyDesc_tab_tab2 = '<leader>t2 ğŸªŸTab 2'
nnoremap <leader>t3 :tabnext 3<CR>
let g:WhichKeyDesc_tab_tab3 = '<leader>t3 ğŸªŸTab 3'
nnoremap <leader>t4 :tabnext 4<CR>
let g:WhichKeyDesc_tab_tab4 = '<leader>t4 ğŸªŸTab 4'
nnoremap <leader>t5 :tabnext 5<CR>
let g:WhichKeyDesc_tab_tab5 = '<leader>t5 ğŸªŸTab 5'
nnoremap <leader>t6 :tabnext 6<CR>
let g:WhichKeyDesc_tab_tab6 = '<leader>t6 ğŸªŸTab 6'
nnoremap <leader>t7 :tabnext 7<CR>
let g:WhichKeyDesc_tab_tab7 = '<leader>t7 ğŸªŸTab 7'
nnoremap <leader>t8 :tabnext 8<CR>
let g:WhichKeyDesc_tab_tab8 = '<leader>t8 ğŸªŸTab 8'
nnoremap <leader>t9 :tabnext 9<CR>
let g:WhichKeyDesc_tab_tab9 = '<leader>t9 ğŸªŸTab 9'
let g:WhichKeyDesc_tab_close = '<leader>tc ğŸ—‘ï¸Close'
nnoremap <leader>tcc :action CloseEditor<CR>
let g:WhichKeyDesc_tab_close_this = '<leader>tcc ğŸ—‘ï¸Tab Close'
nnoremap <leader>tca :action CloseAllEditorsButActive<CR>
let g:WhichKeyDesc_tab_close_all = '<leader>tca ğŸ—‘ï¸Tab Close All'

" Search ê´€ë ¨ í‚¤ë§µí•‘
let g:WhichKeyDesc_find = '<leader>f ğŸ“‚Find'
map <leader>ff :action GotoFile<CR>
let g:WhichKeyDesc_find_file_name = '<leader>ff ğŸ“‚File By Name'
map <leader>fw :action FindInPath<CR>
let g:WhichKeyDesc_find_file_word = '<leader>fw ğŸ“‚File By Word'

" Project tree ì˜¤í”ˆ
let g:WhichKeyDesc_project = '<leader>e ğŸ—‚ï¸Focus Project'
nnoremap <leader>e :NERDTree<CR>

" ToolWindow ê´€ë ¨ í‚¤ë§µí•‘
let g:WhichKeyDesc_open = '<leader>o ğŸ—ƒï¸Open'
nnoremap <leader>oD :action ActivateDatabaseToolWindow<CR>
let g:WhichKeyDesc_open_database = '<leader>oD ğŸ“šDatabase'
nnoremap <leader>ot :action ActivateTerminalToolWindow<CR>
let g:WhichKeyDesc_open_terminal = '<leader>ot ğŸ—ï¸terminal'
nnoremap <leader>oT :action ActivateTODOToolWindow<CR>
let g:WhichKeyDesc_open_todo = '<leader>oT â˜‘ï¸TODO'
nnoremap <leader>os :action ActivateStructureToolWindow<CR>
let g:WhichKeyDesc_open_Structure = '<leader>os ğŸ§¾Structure'
nnoremap <leader>od :action ActivateDebugToolWindow<CR>
let g:WhichKeyDesc_open_debug = '<leader>od ğŸDebug'

" Debug ê´€ë ¨ í‚¤ë§µí•‘
let g:WhichKeyDesc_debug = '<leader>d ğŸDebug'
nnoremap <leader>dd :action ToggleLineBreakpoint<CR>
let g:WhichKeyDesc_debug_breakpoint = '<leader>dd ğŸBreakpoint'
nnoremap <leader>dh :action QuickEvaluateExpression<CR>
let g:WhichKeyDesc_debug_hober = '<leader>dh ğŸHover'
nnoremap <leader>dv :action ViewBreakpoints<CR>
let g:WhichKeyDesc_debug_breakpoints = '<leader>dv ğŸView Breakpoints'
nnoremap <leader>dr :action ChooseDebugConfiguration<CR>
let g:WhichKeyDesc_debug_run = '<leader>dr ğŸRun'
nnoremap <leader>ds :action Stop<CR>
let g:WhichKeyDesc_debug_stop = '<leader>ds ğŸStop'


" Re í‚¤ë§µí•‘
let g:WhichKeyDesc_re = '<leader>r â™»ï¸Re'
let g:WhichKeyDesc_re_name = '<leader>rn ğŸªªName'
nnoremap <leader>rn :action RenameElement<CR>

" Switcher
let g:WhichKeyDesc_switcher = '<leader>s â™»ï¸Switcher'
nnoremap <leader>s :action Switcher<CR>

" Git
let g:WhichKeyDesc_git = '<leader>g ğŸˆGit'
let g:WhichKeyDesc_git_reset = '<leader>gr ğŸˆReset'
nnoremap <leader>grh :action Vcs.RollbackChangedLines<CR>
let g:WhichKeyDesc_git_reset_hunk = '<leader>grh ğŸˆHunk'

" Create ê´€ë ¨ í‚¤ë§µí•‘
let g:WhichKeyDesc_create = '<leader>c ğŸ”¨Create'
nnoremap <leader>cv :action IntroduceVariable<CR>
let g:WhichKeyDesc_create_variable = '<leader>cv ğŸ”¨Variable'
nnoremap <leader>cc :action GenerateConstructor<CR>
let g:WhichKeyDesc_create_constructor = '<leader>cc ğŸ”¨Constructor'
nnoremap <leader>cg :action GenerateGetter<CR>
let g:WhichKeyDesc_create_getter = '<leader>cg ğŸ”¨Getter'
nnoremap <leader>cs :action GenerateSetter<CR>
let g:WhichKeyDesc_create_setter = '<leader>cs ğŸ”¨Setter'
nnoremap <leader>ct :action GotoTest<CR>
let g:WhichKeyDesc_create_test = '<leader>ct ğŸ”¨Test Class'
let g:WhichKeyDesc_create_extract = '<leader>ce ğŸ”¨Extract'
map <leader>cem :action ExtractMethod<CR>
let g:WhichKeyDesc_create_extract_method = '<leader>cem ğŸ”¨Method'
map <leader>cec :action ExtractClass<CR>
let g:WhichKeyDesc_create_extract_class = '<leader>cec ğŸ”¨Class'

" Code Action
let g:WhichKeyDesc_code_action = '<leader>ca ğŸ§¨Code Action'
nnoremap <leader>ca :action ShowIntentionActions<CR>

" Test Method í•¨ìˆ˜ì— ìœ„ì¹˜í•˜ë©´ í•¨ìˆ˜ì‹¤í–‰ í•¨ìˆ˜ ë°–ì´ë©´ í´ë˜ìŠ¤ ì‹¤í–‰
nnoremap <leader>T :action RunClass<CR>
let g:WhichKeyDesc_test = '<leader>T ğŸ§ªTest'

" Folding / Expanding
let g:WhichKeyDesc_block = '<leader>z ğŸ§±block'
nnoremap <leader>zc :action CollapseRegionRecursively<CR>
let g:WhichKeyDesc_block_folding = '<leader>zc ğŸ§±Close'
nnoremap <leader>zo :action ExpandRegionRecursively<CR>
let g:WhichKeyDesc_block_expanding = '<leader>zo ğŸ§±Open'

" ë²„í¼ ê°„ ì´ë™ ë§¤í•‘
nnoremap <C-h> <C-w>h
nnoremap <C-j> <C-w>j
nnoremap <C-k> <C-w>k
nnoremap <C-l> <C-w>l

" Don't use Ex mode, use Q for formatting.
map Q gq

" --- Enable IdeaVim plugins https://jb.gg/ideavim-plugins

" Highlight copied text
Plug 'machakann/vim-highlightedyank'
" Commentary plugin
Plug 'tpope/vim-commentary'
" surround Plugin
Plug 'tpope/vim-surround'


"" -- Map IDE actions to IdeaVim -- https://jb.gg/abva4t
"" Map \r to the Reformat Code action
"map \r <Action>(ReformatCode)

"" Map <leader>d to start debug
"map <leader>d <Action>(Debug)

"" Map \b to toggle the breakpoint on the current line
"map \b <Action>(ToggleLineBreakpoint)
let g:WhichKeyDesc_vim = '<leader>v ğŸ§‘ğŸ»â€ğŸ’»VIM'
let g:WhichKeyDesc_vim_source = '<leader>va âš™ï¸apply'
nnoremap <leader>va :source ~/.ideavimrc<CR>
let g:WhichKeyDesc_vim_edit = '<leader>ve âš™ï¸edit'
nnoremap <leader>ve :e ~/.ideavimrc<CR>
